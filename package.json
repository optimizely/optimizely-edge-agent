{
  "name": "optly-hybrid-agent",
  "version": "1.0.0",
  "scripts": {
    "build": "npm run build:cloudflare && npm run build:vercel",
    "build:cloudflare": "wrangler build",
    "build:vercel": "npm run build:vercel:middleware && npm run build:vercel:function",
    "build:vercel:middleware": "esbuild src/cdn-adapters/vercel/middleware.js --bundle --platform=browser --format=esm --minify --sourcemap --external:next/* --outfile=dist/vercel/middleware.js",
    "build:vercel:function": "esbuild src/cdn-adapters/vercel/function.js --bundle --platform=browser --format=esm --minify --sourcemap --external:next/* --outfile=dist/vercel/function.js",
    "deploy:cloudflare": "wrangler deploy",
    "dev:cloudflare": "wrangler dev",
    "format": "prettier --loglevel warn --write \"src/**/*.{jsx,js}\"",
    "test": "vitest",
    "test:once": "vitest --run"
  },
  "main": "dist/vercel/index.js",
  "exports": {
    "./cloudflare": "./dist/cloudflare/index.js",
    "./vercel/middleware": "./src/cdn-adapters/vercel/middleware.js",
    "./vercel/function": "./src/cdn-adapters/vercel/function.js"
  },
  "files": [
    "dist",
    "src"
  ],
  "peerDependencies": {
    "next": ">=12"
  },
  "devDependencies": {
    "@cloudflare/vitest-pool-workers": "^0.5.39",
    "@optimizely/optimizely-sdk": "^5.3.4",
    "cookie": "^1.0.2",
    "esbuild": "^0.19.0",
    "next": "^14.0.4",
    "vitest": "2.1.8",
    "wrangler": "^3.98.0"
  },
  "dependencies": {
    "@vercel/kv": "^3.0.0",
    "itty-router": "^5.0.18"
  }
}
